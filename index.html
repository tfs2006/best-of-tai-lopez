<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Best of Tai Lopez — Curated Affiliate Hub</title>
  <meta name="description" content="Curated hub of Tai Lopez programs, coaching, and tools — hand‑picked and organized with quick filters. Affiliate disclosure included." />
  <meta property="og:title" content="Best of Tai Lopez — Curated Affiliate Hub" />
  <meta property="og:description" content="Explore Tai Lopez programs: AI Consultant, 67 Steps, High Ticket Sales, Viral Video Agency, and more. Organized with filters & search." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#111827" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --brand: #14b8a6; }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }
    .glass { backdrop-filter: saturate(140%) blur(10px); background: rgba(17,24,39,.6); }
    .card { transition: transform .18s ease, box-shadow .18s ease; }
    .card:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    .tag { border: 1px solid rgba(255,255,255,.12); }
    .btn { transition: background .18s ease, color .18s ease, border-color .18s ease; }
    .filter-btn { transition: transform .12s ease; }
    .filter-btn:active { transform: translateY(1px); }
    .disclosure a { text-decoration: underline; }
    details[open] summary svg { transform: rotate(180deg); }

    /* --- LIGHT THEME OVERRIDES (readability + contrast) --- */
    body.theme-light { background: #ffffff; color: #111827; }
    body.theme-light header { background: rgba(255,255,255,.9); border-color: #e5e7eb; }
    body.theme-light .glass { background: rgba(255,255,255,.75); }
    body.theme-light h1, body.theme-light h2, body.theme-light h3, body.theme-light p,
    body.theme-light .text-neutral-300, body.theme-light .text-neutral-300\/80, body.theme-light .text-neutral-300\/90 { color:#0f172a !important; }
    body.theme-light #search { background:#fff !important; color:#0f172a !important; border:1px solid #e5e7eb !important; box-shadow:none !important; }
    body.theme-light #resultsMeta { color:#334155 !important; }
    body.theme-light .card { background: linear-gradient(to bottom, #ffffff, #f8fafc) !important; border-color:#e5e7eb !important; }
    body.theme-light .card p { color:#334155 !important; }
    body.theme-light .tag { background:#f1f5f9 !important; border-color:#e5e7eb !important; color:#334155 !important; }
    body.theme-light .btn { background:#f3f4f6 !important; color:#0f172a !important; border:1px solid #e5e7eb !important; }
    body.theme-light .btn:hover { background:#e5e7eb !important; }
    body.theme-light .filter-btn { background:#eef2f7 !important; color:#0f172a !important; border:1px solid #e5e7eb !important; }
    body.theme-light .filter-btn:hover { background:#e5e7eb !important; }
    body.theme-light select { background:#fff !important; color:#0f172a !important; border:1px solid #e5e7eb !important; }
    body.theme-light footer { background:#ffffff; border-color:#e5e7eb; }
    body.theme-light .disclosure { color:#334155 !important; }
    body.theme-light #web3Status { color:#64748b !important; }

    /* Sticky mobile CTA */
    #stickyCta { position: sticky; bottom: 0; z-index: 30; }
  </style>
</head>
<body class="bg-neutral-950 text-neutral-100">
  <!-- Header -->
  <header class="sticky top-0 z-40 bg-neutral-950/70 glass border-b border-neutral-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center gap-3">
      <div class="w-9 h-9 rounded-xl bg-teal-500/20 grid place-items-center ring-1 ring-teal-400/40">
        <span class="text-teal-300 font-black">TL</span>
      </div>
      <div class="flex-1">
        <h1 class="text-xl sm:text-2xl font-extrabold tracking-tight">Best of Tai Lopez</h1>
      </div>
      <div class="hidden md:flex items-center gap-2">
        <button id="themeToggle" class="btn px-3 py-2 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-sm ring-1 ring-white/10">Toggle Theme</button>
        <!-- Removed top affiliate disclosure button per request -->
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative overflow-hidden">
    <!-- Make gradient non-interactive so it never blocks clicks -->
    <div class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_20%_10%,rgba(20,184,166,.12),transparent_45%),radial-gradient(circle_at_80%_0%,rgba(59,130,246,.10),transparent_40%),radial-gradient(circle_at_50%_100%,rgba(244,63,94,.08),transparent_40%)]"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16">
      <div class="grid md:grid-cols-3 gap-6 items-end">
        <div class="md:col-span-2">
          <h2 class="text-3xl sm:text-5xl font-extrabold leading-tight">All the best <span class="text-teal-400">Tai Lopez</span> programs in one place</h2>
          <div class="mt-6 flex flex-col sm:flex-row gap-3">
            <div class="flex-1">
              <label for="search" class="sr-only">Search</label>
              <input id="search" type="text" placeholder="Search programs, e.g., 'AI', 'sales', '67 steps'…" class="w-full px-4 py-3 rounded-2xl bg-neutral-900 ring-1 ring-white/10 focus:ring-2 focus:ring-teal-500 outline-none"/>
            </div>
            <div class="flex gap-2 flex-wrap" id="quick-filters"></div>
          </div>
        </div>
        <div class="md:justify-self-end">
          <div class="rounded-3xl border border-white/10 bg-gradient-to-br from-neutral-900 to-neutral-800 p-5">
            <div class="grid gap-2 text-sm">
              <label for="sortBy" class="text-neutral-300">Sort by</label>
              <select id="sortBy" class="px-3 py-2 rounded-xl bg-neutral-900 ring-1 ring-white/10 focus:ring-2 focus:ring-teal-500 outline-none">
                <option value="featured">Featured</option>
                <option value="popular">Popularity</option>
                <option value="az">A–Z</option>
              </select>
            </div>
            <button id="connectWallet" class="mt-4 hidden px-3 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-sm font-semibold">Connect Wallet</button>
            <p id="web3Status" class="mt-2 text-xs text-neutral-400"></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sticky CTA (mobile) -->
  <div id="stickyCta" class="md:hidden bg-teal-600 text-white">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
      <span class="font-semibold">See Top Picks</span>
      <a href="#cards" class="px-3 py-2 rounded-xl bg-white text-teal-700 font-semibold">Browse</a>
    </div>
  </div>

  <!-- Cards -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 pb-24">
    <div class="flex items-center justify-between mb-3">
      <div id="resultsMeta" class="text-sm text-neutral-300/80"></div>
      <div class="hidden md:flex items-center gap-2 text-xs text-neutral-400" id="pillTips"></div>
    </div>
    <div id="cards" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </main>

  <!-- Disclosure -->
  <footer id="disclosure" class="border-t border-neutral-800 bg-neutral-950/80">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-10">
      <div class="disclosure text-sm text-neutral-300/90 leading-relaxed">
        <strong class="font-semibold">Affiliate Disclosure:</strong> Some links on this site are affiliate links. If you click and purchase, I may receive a commission at no extra cost to you. This site curates Tai Lopez programs I personally recommend.
      </div>
      <div class="mt-6">
        <details class="group">
          <summary class="cursor-pointer text-xs text-neutral-400 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 transition-transform" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15.5 6 9.5h12l-6 6z"/></svg>
            Diagnostics & Tests
          </summary>
          <div id="testOutput" class="mt-3 text-xs bg-neutral-900/60 border border-white/10 rounded-xl p-3 whitespace-pre-wrap"></div>
        </details>
      </div>
      <div class="mt-4 text-xs text-neutral-500">© <span id="year"></span> Best of Tai Lopez. All rights reserved.</div>
    </div>
  </footer>

  <template id="cardTemplate">
    <article class="card rounded-3xl border border-white/10 bg-gradient-to-b from-neutral-900 to-neutral-950 p-6 flex flex-col">
      <div class="flex items-center gap-2 mb-3">
        <span class="px-2 py-1 text-xs rounded-lg bg-teal-500/15 text-teal-300 tag">Top Pick</span>
        <span class="px-2 py-1 text-xs rounded-lg bg-white/5 tag" data-tag></span>
      </div>
      <h3 class="text-xl font-bold" data-title></h3>
      <p class="mt-2 text-sm text-neutral-300" data-desc></p>
      <div class="mt-4 flex gap-2 flex-wrap" data-badges></div>
      <div class="mt-6 grid grid-cols-1 gap-2 mt-auto">
        <a class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl bg-teal-600 hover:bg-teal-500 font-semibold" target="_blank" rel="sponsored nofollow noopener" data-link>
          Visit Offer
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M13 5h6v6h-2V8.414l-7.293 7.293-1.414-1.414L15.586 7H13V5z"/><path d="M5 6a1 1 0 0 1 1-1h5v2H7v10h10v-4h2v5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6z"/></svg>
        </a>
      </div>
    </article>
  </template>

  <script>
    // --- Safe Web3/MetaMask Utilities (defensive; NO auto-connection) ---
    const Web3Safe = (() => {
      function hasProvider() { return typeof window !== 'undefined' && !!window.ethereum; }
      async function connect() {
        if (!hasProvider()) throw new Error('MetaMask not detected');
        try {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          return { connected: accounts && accounts.length > 0, account: accounts?.[0] || null };
        } catch (err) { const e = new Error('Failed to connect to MetaMask'); e.cause = err; throw e; }
      }
      async function checkConnection() {
        if (!hasProvider()) return { provider: false, connected: false, account: null };
        try {
          const accounts = await window.ethereum.request({ method: 'eth_accounts' });
          return { provider: true, connected: accounts.length > 0, account: accounts[0] || null };
        } catch { return { provider: true, connected: false, account: null }; }
      }
      return { hasProvider, connect, checkConnection };
    })();

    // --- App Data (with featured flags) ---
    const DATA = [
      { title: "Personal Brand Income Accelerator", url: "https://www.tailopezproducts.com/flow.php?id=FS-4223&aff=A3106288", tag: "Branding", badges: ["Personal Brand", "Income Systems"], desc: "Grow a magnetic personal brand and turn attention into revenue with a step‑by‑step system.", featured: true },
      { title: "AI Consultant (2025)", url: "https://www.tailopez.com/flow.php?id=FS-4569&aff=A3106288", tag: "AI & Automation", badges: ["Consulting", "Automation"], desc: "Launch an AI consulting offer with frameworks for fulfillment, pricing, and prospecting.", featured: true },
      { title: "AI Automation — Main", url: "https://tailopez.com/aiautomation/A3106288", tag: "AI & Automation", badges: ["AI", "Automation"], desc: "Central page for Tai's AI automation programs and updates.", featured: false },
      { title: "67 Steps (New)", url: "https://67steps.com/new67steps/A3106288", tag: "Mindset", badges: ["Mindset", "Foundations"], desc: "Classic mindset and mental models program — updated enrollment page.", featured: true },
      { title: "Viral Video Agency", url: "https://www.tailopez.com/flow.php?lp=FS-6784&aff=A3106288", tag: "Social Media", badges: ["Short‑Form", "UGC"], desc: "Build a viral content agency with scripts, outreach, and fulfillment systems.", featured: true },
      { title: "SYK9", url: "https://tailopez.com/syk9/A3106288", tag: "Sales", badges: ["Offers", "Positioning"], desc: "Advanced frameworks for structuring offers and positioning for growth.", featured: false },
      { title: "67 eComm", url: "https://tailopez.com/67ecomm/A3106288", tag: "Ecommerce", badges: ["Ecom", "Playbooks"], desc: "67 key principles to build and scale ecommerce brands.", featured: false },
      { title: "Viral Pages", url: "https://tailopez.com/viralpages/A3106288", tag: "Social Media", badges: ["Growth", "Viral"], desc: "System for building viral social pages that drive traffic and sales.", featured: false },
      { title: "Cashfloww", url: "https://cashfloww.com/A3106288", tag: "Tools", badges: ["Finance", "Tools"], desc: "Cash flow tracking toolset for creators and entrepreneurs.", featured: false },
      { title: "Marketers.io", url: "https://marketers.io/A3106288", tag: "Tools", badges: ["Community", "Tools"], desc: "Marketing platform/community to connect, learn, and scale.", featured: false },
      { title: "Reselling Profitable Products", url: "https://www.tailopez.com/flow.php?id=FS-9277&aff=A3106288", tag: "Ecommerce", badges: ["Reselling", "Amazon/Ebay"], desc: "Learn to source and resell profitable products with repeatable processes.", featured: false },
      { title: "1‑on‑1 Private Call with Tai", url: "https://www.tailopez.com/flow.php?id=FS-9233&aff=A3106288", tag: "Coaching", badges: ["Private Call", "Concierge"], desc: "Book a private call with Tai Lopez for tailored strategy.", featured: true },
      { title: "High Ticket Sales", url: "https://www.tailopez.com/flow.php?id=FS-2025&affid=A3106288", tag: "Sales", badges: ["Closing", "HT Offers"], desc: "Master high‑ticket sales skills, from outreach to objection handling.", featured: true },
      { title: "39 Triggers", url: "https://www.39triggers.com/flow.php?id=FS-7119&affid=A3106288", tag: "Copywriting", badges: ["Psychology", "Messaging"], desc: "Use 39 psychological triggers to ethically improve conversions.", featured: false },
      { title: "Social Media Brand Accelerator", url: "https://www.tailopez.com/flow.php?id=FS-1958&aff=A3106288", tag: "Social Media", badges: ["Brand", "Audience"], desc: "Accelerate growth across major platforms with a clear brand strategy.", featured: false },
      { title: "Black Belt Sales — Remote High‑Ticket Closer (Work for Tai)", url: "https://www.tailopez.com/flow.php?lp=FS-5385&aff=A3106288", tag: "Sales", badges: ["Remote", "Closer"], desc: "Apply to work as a remote high‑ticket closer in Tai's ecosystem.", featured: false },
      { title: "Black Belt Sales System — High Ticket Closer", url: "https://www.tailopezproducts.com/flow.php?id=FS-5815&aff=A3106288", tag: "Sales", badges: ["Closer System", "Playbooks"], desc: "Sales training and systems for consistent high‑ticket closing.", featured: false },
      { title: "Private Concierge with Tai", url: "https://www.tailopez.com/flow.php?id=FS-2881&aff=A3106288", tag: "Coaching", badges: ["Concierge", "Advisory"], desc: "Premium concierge access for ongoing advisory and accountability.", featured: false },
      { title: "3 Done‑For‑You Ads", url: "https://www.tailopez.com/flow.php?id=FS-8779&aff=A3106288", tag: "Ads", badges: ["DFY", "Creative"], desc: "Get three ready‑to‑launch ads built for your offer.", featured: false },
      { title: "1 Done‑For‑You Funnel", url: "https://www.tailopez.com/flow.php?id=FS-6709&aff=A3106288", tag: "Funnels", badges: ["DFY", "Funnels"], desc: "A complete sales funnel delivered done‑for‑you.", featured: false },
      { title: "AI SMMA", url: "https://www.tailopez.com/flow.php?id=FS-5418&aff=A3106288", tag: "AI & Automation", badges: ["SMMA", "AI"], desc: "Build a social media marketing agency powered by AI and automation.", featured: false }
    ];

    const TAGS = ["All", "AI & Automation", "Sales", "Social Media", "Ecommerce", "Coaching", "Mindset", "Tools", "Copywriting", "Ads", "Funnels", "Branding"];

    const cardsEl = document.getElementById('cards');
    const template = document.getElementById('cardTemplate');
    const searchEl = document.getElementById('search');
    const quickFiltersEl = document.getElementById('quick-filters');
    const resultsMetaEl = document.getElementById('resultsMeta');
    const connectBtn = document.getElementById('connectWallet');
    const web3Status = document.getElementById('web3Status');
    const sortByEl = document.getElementById('sortBy');
    const pillTips = document.getElementById('pillTips');

    let activeTag = 'All';

    function renderFilters() {
      TAGS.forEach(tag => {
        const btn = document.createElement('button');
        btn.className = 'filter-btn px-3 py-2 rounded-xl bg-neutral-900 ring-1 ring-white/10 hover:bg-neutral-800 text-sm';
        btn.textContent = tag;
        btn.setAttribute('data-tag', tag);
        btn.onclick = () => { activeTag = tag; render(); };
        quickFiltersEl.appendChild(btn);
      });
    }

    function match(item, q) {
      const hay = (item.title + ' ' + item.desc + ' ' + item.tag + ' ' + (item.badges||[]).join(' ')).toLowerCase();
      return hay.includes(q);
    }

    function badgeEl(text) {
      const span = document.createElement('span');
      span.className = 'px-2 py-1 text-xs rounded-lg bg-white/5 tag';
      span.textContent = text;
      return span;
    }

    function rank(list) {
      const mode = sortByEl.value;
      const clicks = JSON.parse(localStorage.getItem('tl_clicks')||'{}');
      if (mode === 'az') return list.sort((a,b)=> a.title.localeCompare(b.title));
      if (mode === 'popular') return list.sort((a,b)=>(clicks[b.title]||0)-(clicks[a.title]||0));
      // default: featured first
      return list.sort((a,b)=> (b.featured===true)-(a.featured===true) || a.title.localeCompare(b.title));
    }

    function render() {
      const q = (searchEl.value || '').trim().toLowerCase();
      cardsEl.innerHTML = '';

      let list = [...DATA];
      if (activeTag && activeTag !== 'All') list = list.filter(i => i.tag === activeTag);
      if (q) list = list.filter(i => match(i, q));
      list = rank(list);

      resultsMetaEl.textContent = `${list.length} result${list.length!==1?'s':''}${activeTag!=='All'?` • ${activeTag}`:''}${q?` • “${searchEl.value.trim()}”`:''}`;

      pillTips.innerHTML = '';
      ['Tip: Use filters','Sort by Popularity','Right‑click to open new tab'].forEach(t=>{
        const pill=document.createElement('span');
        pill.className='px-2 py-1 rounded-full bg-white/5 ring-1 ring-white/10';
        pill.textContent=t; pillTips.appendChild(pill);
      });

      list.forEach(item => {
        const node = template.content.cloneNode(true);
        // Hide Top Pick badge if not featured
        if (!item.featured) node.querySelector('.tag').classList.add('hidden');

        node.querySelector('[data-title]').textContent = item.title;
        node.querySelector('[data-desc]').textContent = item.desc;
        node.querySelector('[data-tag]').textContent = item.tag;
        const linkEl = node.querySelector('[data-link]');
        linkEl.href = item.url;
        linkEl.addEventListener('click', ()=>{
          const clicks = JSON.parse(localStorage.getItem('tl_clicks')||'{}');
          clicks[item.title] = (clicks[item.title]||0)+1; localStorage.setItem('tl_clicks', JSON.stringify(clicks));
        });

        const badgesWrap = node.querySelector('[data-badges]');
        (item.badges || []).forEach(b => badgesWrap.appendChild(badgeEl(b)));

        cardsEl.appendChild(node);
      });

      // Visual active state for filter buttons
      [...quickFiltersEl.children].forEach(btn => {
        const on = btn.getAttribute('data-tag') === activeTag;
        btn.style.outline = on ? '2px solid var(--brand)' : 'none';
      });
    }

    renderFilters();
    render();
    searchEl.addEventListener('input', render);
    sortByEl.addEventListener('change', render);

    // Theme toggle (dark/light) with readable light theme
    const themeToggle = document.getElementById('themeToggle');
    function setTheme(dark) {
      document.body.classList.toggle('theme-light', !dark);
      document.body.classList.toggle('bg-white', !dark);
      document.body.classList.toggle('text-neutral-900', !dark);
      document.body.classList.toggle('bg-neutral-950', dark);
      document.body.classList.toggle('text-neutral-100', dark);
    }
    themeToggle.addEventListener('click', () => {
      const dark = document.body.classList.contains('bg-neutral-950');
      setTheme(!dark);
    });

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- Web3 presence banner (non-blocking; avoids thrown errors) ---
    (async () => {
      const status = await Web3Safe.checkConnection();
      if (status.provider) {
        connectBtn.classList.remove('hidden');
        web3Status.textContent = status.connected ? `Wallet connected: ${status.account}` : 'MetaMask detected — not connected';
      } else {
        web3Status.textContent = '';
      }
    })();

    connectBtn?.addEventListener('click', async () => {
      try { const res = await Web3Safe.connect(); web3Status.textContent = res.connected ? `Connected: ${res.account}` : 'Not connected'; }
      catch (e) { web3Status.textContent = e?.message || 'Failed to connect to MetaMask'; }
    });

    // --- Minimal Test Cases (filters/sort/theme) ---
    (async function runTests() {
      const out = [];
      function ok(name) { out.push(`✅ ${name}`); }
      function eq(name, a, b) { out.push((a===b? '✅':'❌')+` ${name} → ${JSON.stringify(a)} === ${JSON.stringify(b)}`); }
      function note(msg) { out.push(`ℹ️ ${msg}`); }
      note('Test Suite: UI & Web3');

      // Test: checkConnection should not throw
      try { const t = await Web3Safe.checkConnection(); ok('checkConnection() safe'); eq('hasProvider sync≈async', Web3Safe.hasProvider(), !!t.provider); }
      catch { out.push('❌ checkConnection() threw'); }

      // Test: cards render
      eq('Cards rendered count', document.querySelectorAll('#cards article').length, DATA.length);

      // Test: theme toggles readability (light)
      setTheme(false); ok('Light theme applied: '+document.body.classList.contains('theme-light'));
      setTheme(true);

      // Test: sorting changes order
      const firstBefore = document.querySelector('#cards article h3')?.textContent;
      sortByEl.value = 'az'; render();
      const firstAfterAZ = document.querySelector('#cards article h3')?.textContent;
      ok('Sorting A–Z applies: '+ (firstBefore !== firstAfterAZ));

      // Test: filter buttons reduce results
      const countBefore = document.querySelectorAll('#cards article').length;
      activeTag = 'Sales'; render();
      const countAfter = document.querySelectorAll('#cards article').length;
      ok('Filter reduces or equals results: '+ (countAfter <= countBefore));
      activeTag = 'All'; render();

      document.getElementById('testOutput').textContent = out.join('\n');
    })();
  </script>
</body>
</html>
